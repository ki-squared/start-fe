<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4주차 과제 - 1</title>
    <style>
        button, span {
            margin: 10px;
            float: left;
        }
        span {
            margin-top: 5px;
        }
        #wrap img {
            margin: 20px;
        }

        #carousel {
            margin-left: 147px;
        }

        #description div {
            display: inline-block;
            width: 106px;
            text-align: justify;
            margin: 0px 21px;
        }
        
    </style>
</head>
<body>
    <div id="wrap"></div>
    <div id="description"></div>
    <div id="carousel">
        <button id="prev" type="button">&lt</button>
        <span id="page">1/3</span>
        <button id="next" type="button">&gt</button>
    </div>

<script>
    var todayPhoto = [
        {"url":"http://media.daum.net/photo/2841","img":"http://icon.daumcdn.net/w/c/12/05/82877085750988319.jpeg","title":"&quot;뜨면 끝장&quot; 최강 공격헬기 성능이 설마","id":"20120516082207657"}
        ,{"url":"http://media.daum.net/entertain/photo/gallery/?gid=100320","img":"http://icon.daumcdn.net/w/c/12/05/82876693901189319.jpeg","title":"&#39;오늘만&#39; 필리핀 새댁 5개국어 능통 엄친딸","id":"20120516091011626"}
        ,{"url":"http://media.daum.net/photo/4010","img":"http://icon.daumcdn.net/w/c/12/05/82876307459008319.jpeg","title":"[북한 결혼식 풍경] 신랑·신부 &quot;행복합니다&quot;","id":"20120516092605081"}
        ,{"url":"http://sports.media.daum.net/general/gallery/gagsports/index.html","img":"http://icon.daumcdn.net/w/c/12/05/81730673405131839.jpeg","title":"&#39;내가 더 잘해&#39; 후보GK 경기 난입해 선방","id":"20120516100608409"}
        ,{"url":"http://sports.media.daum.net/general/gallery/0516ufc/index.html","img":"http://icon.daumcdn.net/w/c/12/05/81728759258718839.jpeg","title":"양동이의 하이킥에 타바레스 &#39;주춤&#39;","id":"20120516093313331"}
        ,{"url":"http://media.daum.net/entertain/photo/gallery/?gid=100539","img":"http://icon.daumcdn.net/w/c/12/05/81728404408992839.jpeg","title":"이승철 아내와 딸 사진 공개 &quot;사주에. .&quot;","id":"20120516093918544"}
        ,{"url":"http://media.daum.net/photo/3899","img":"http://icon.daumcdn.net/w/c/12/05/81728227037306839.jpeg","title":"생후 6개월에 프랑스로 입양됐던 아이가..","id":"20120516030614331"}
        ,{"url":"http://sports.media.daum.net/general/gallery/STARKIMYUNA/index.html","img":"http://icon.daumcdn.net/w/c/12/05/81727815537682839.jpeg","title":"&#39;교생&#39; 김연아, 스승의날에도 인기폭발","id":"20120516092003892"}
    ];

    var wrap = document.getElementById('wrap');
    var description = document.getElementById('description');
    var page = document.getElementById('page');
    var prev = document.getElementById('prev');
    var next = document.getElementById('next');

    // page number
    var pNum = 1;
    // last page number
    var lpNum = Math.ceil(todayPhoto.length/3); // Math.ceil은 소숫점 올림


    // 현재 페이지 pNum에 맞게 3개의 사진을 보여주는 함수
    function show() {
        // 012 345 678 ... => first picture idx=(page number -1)*3
        var first = (pNum-1)*3;
        var iStr = ''; // img 
        var dStr = ''; // description
        var pStr = ''; // page
        for(var i=first; i<first+3; i++) {
            if(i==todayPhoto.length) // 사진이 반드시 3의 배수가 아닐 수도 있기 때문.. 없으면 오류!
                break;
            iStr += '<img src="'+todayPhoto[i].img+'">';
            dStr += '<div id="description">'+todayPhoto[i].title+'</div>'; 
        }
        pStr = '<span id="page-number">'+pNum+'/3</span>';
        wrap.innerHTML = iStr;
        description.innerHTML = dStr;
        page.innerHTML = pStr;

    }

    show();

    // < 버튼
    prev.addEventListener('click', function() {
        if(pNum===1)
            pNum = 3;
        else
            pNum--;
        show();
    });

    // > 버튼
    next.addEventListener('click', function() {
        if(pNum===lpNum)
            pNum = 1;
        else
            pNum++;
        show();
    })
</script>

</body>
</html>